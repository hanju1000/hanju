<!DOCTYPE html>
<html lang="ko">
  <head>
        <meta charset="UTF-8">
        <title>04_JSON.html</title>
  </head>
  <body> 
      <h3> JSON 함수</h3>

      <script>
        let persons=[
            {firstName:"John", lastname:"Doe1", age:46}
            ,{firstName:"Tom", lastname:"Doe2", age:46}
            ,{firstName:"Jimy", lastname:"Doe3", age:46}
        ];


            document.write(persons.length);  //3
            document.write("<hr>");
            document.write(persons[0]);     //[object Object]
            document.write("<hr>");
            document.write(persons[1]);     //[object Object]
            document.write("<hr>");
            document.write(persons[2]);     //[object Object]
            document.write("<hr>");    


            for(let i=0; i<persons.length; i++){
                document.write(persons[i].firstName);
                document.write(persons[i].lastname);
                document.write(persons[i].age);
                document.write("<hr>");   
            }//for end


            ///////////////////////////////////////


            //JSON
            let myObj={
                name:"John"
                ,age:30
                ,cars:["Ford", "BMW", "Fiat"]
            };
            document.write(myObj.cars[0]); 
            document.write("<hr>");    


            ////////////////////////////////////////


            //for ~ in 반복문
            //형식) for( key in object ) { }
            const numbers=[45, 4, 16, 25];
            for(let i=0; i<numbers.length; i++){
                document.write("<hr>"); 
                document.write(numbers[i]);
                document.write("<hr>");    
            }//for end


            for(let i in numbers){
                
                document.write(numbers[i]);
                document.write("<hr>");    
            }//for end


            /*
            const person={"firstName":"John", "lastname":"Doe", "age":46};
            for(let i in person){
                document.write(person[i]);
                document.write("<hr>");  
            }//for end
            */
            ////////////////////////////////////////////////

            //JSON 관련 함수

            //1) JSON.parse()
            //->string형태의 JSON문법을 분리할때

            let person='{"firstName":"John", "lastname":"Doe", "age":46}';
            document.write(person.length);          //48
            document.write("<hr>");
            document.write(person);             //그냥 문자열   
            document.write("<hr>");        


            let obj=JSON.parse(person);     //JSON형식으로 형변환
            document.write(obj.firstName);
            document.write(obj.lastname);
            document.write(obj.age);
            document.write("<hr>");


            //2) JSON.stringfy
            //-> JSON값을 일반 문자열로 변환
            let txt={"firstName":"John", "lastname":"Doe", "age":46};
            let str=JSON.stringify(txt);
            document.write(str.length);
            document.write("<hr>");
            document.write(str);
            //////////////////////////////////////////////////////////

            //JSON으로 구성된 파일을 작성하는 경우 .json으로 저장한다
            //예) person.json
        
      </script>
  </body>
</html>